@startuml

`
@startuml
hide empty description


state "AppVM" as app1 {
state "route" as route

[*] --> route
}

state "ProxyVM" as proxy1 {
state "route" as route2

route -down[dashed]-> prerouting : ping from .7.27 to .8.8
prerouting -left-> filter
filter -down-> route2
route2 -right-> postrouting
}

postrouting -down[dashed]-> upstream : ping from .7.26 to .8.8

state "ProxyVM" as proxy2 {
state "route" as route3
state "filter" as filter2
state "postrouting" as postrouting2

upstream -down[dashed]-> filter2 : reply from .8.8 to .7.26
filter2 -down-> route3
route3 -left-> postrouting2
}

state "AppVM" as app2 {
postrouting2 -down[dashed]-> [*] : reply from .8.8 to .7.27
}

@enduml
`

@enduml